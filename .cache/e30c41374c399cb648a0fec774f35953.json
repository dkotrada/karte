{"dependencies":[{"name":"./array","loc":{"line":5,"column":28}},{"name":"./objectid","loc":{"line":6,"column":23}},{"name":"../schema/objectid","loc":{"line":7,"column":29}},{"name":"../utils","loc":{"line":8,"column":20}},{"name":"../document","loc":{"line":9,"column":23}},{"name":"buffer"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar i=require(\"buffer\").Buffer,t=require(\"./array\"),r=require(\"./objectid\"),e=require(\"../schema/objectid\"),n=require(\"../utils\"),s=require(\"../document\");function o(i,r,e){var n=[].concat(i);n._path=r;for(var a={isMongooseArray:!0,isMongooseDocumentArray:!0,validators:[],_atomics:{},_schema:void 0,_handlers:void 0},c=Object.keys(t.mixin),u=c.length,h=0;h<u;++h)n[c[h]]=t.mixin[c[h]];var f=Object.keys(o.mixin);u=f.length;for(var m=0;m<u;++m)n[f[m]]=o.mixin[f[m]];var l=Object.keys(a);u=l.length;for(var d=0;d<u;++d)n[l[d]]=a[l[d]];return e&&e instanceof s&&(n._parent=e,n._schema=e.schema.path(r),n._handlers={isNew:n.notify(\"isNew\"),save:n.notify(\"save\")},e.on(\"save\",n._handlers.save),e.on(\"isNew\",n._handlers.isNew)),n}o.mixin={toBSON:function(){return this.toObject({transform:!1,virtuals:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1})},_cast:function(t,e){var s=this._schema.casterConstructor;return t instanceof s||t&&t.constructor&&t.constructor.baseCasterConstructor===s?(t.__parent&&t.__parentArray||(t.__parent=this._parent,t.__parentArray=this),t.__index=e,t):void 0===t||null===t?null:((i.isBuffer(t)||t instanceof r||!n.isObject(t))&&(t={_id:t}),t&&s.discriminators&&s.schema.options.discriminatorKey&&\"string\"==typeof t[s.schema.options.discriminatorKey]&&s.discriminators[t[s.schema.options.discriminatorKey]]&&(s=s.discriminators[t[s.schema.options.discriminatorKey]]),new s(t,this,void 0,void 0,e))},id:function(i){var t,o,a;try{var c=e.prototype.cast.call({},i);c&&(t=String(c))}catch(i){t=null}for(var u=0,h=this.length;u<h;u++)if(this[u]&&null!==(a=this[u].get(\"_id\"))&&void 0!==a)if(a instanceof s){if(o||(o=String(i)),o==a._id)return this[u]}else if(i instanceof r||a instanceof r){if(t==a)return this[u]}else if(n.deepEqual(i,a))return this[u];return null},toObject:function(i){return this.map(function(t){return t&&t.toObject(i)||null})},inspect:function(){return Array.prototype.slice.call(this)},create:function(i){var t=this._schema.casterConstructor;return i&&t.discriminators&&t.schema.options.discriminatorKey&&\"string\"==typeof i[t.schema.options.discriminatorKey]&&t.discriminators[i[t.schema.options.discriminatorKey]]&&(t=t.discriminators[i[t.schema.options.discriminatorKey]]),new t(i)},notify:function(i){var t=this;return function(r){for(var e=t.length;e--;)if(t[e]){switch(i){case\"save\":r=t[e]}t[e].emit(i,r)}}}},module.exports=o;"},"hash":"b69f6324a0247209e2913b44a2eef25e"}