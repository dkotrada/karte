{"dependencies":[{"name":"./asn1","loc":{"line":1,"column":19}},{"name":"./aesid.json","loc":{"line":2,"column":20}},{"name":"./fixProc","loc":{"line":3,"column":22}},{"name":"browserify-aes","loc":{"line":4,"column":22}},{"name":"pbkdf2","loc":{"line":5,"column":21}},{"name":"buffer"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer,r=require(\"./asn1\"),a=require(\"./aesid.json\"),t=require(\"./fixProc\"),i=require(\"browserify-aes\"),c=require(\"pbkdf2\");function d(a){var i;\"object\"!=typeof a||e.isBuffer(a)||(i=a.passphrase,a=a.key),\"string\"==typeof a&&(a=new e(a));var c,d,o=t(a,i),u=o.tag,n=o.data;switch(u){case\"CERTIFICATE\":d=r.certificate.decode(n,\"der\").tbsCertificate.subjectPublicKeyInfo;case\"PUBLIC KEY\":switch(d||(d=r.PublicKey.decode(n,\"der\")),c=d.algorithm.algorithm.join(\".\")){case\"1.2.840.113549.1.1.1\":return r.RSAPublicKey.decode(d.subjectPublicKey.data,\"der\");case\"1.2.840.10045.2.1\":return d.subjectPrivateKey=d.subjectPublicKey,{type:\"ec\",data:d};case\"1.2.840.10040.4.1\":return d.algorithm.params.pub_key=r.DSAparam.decode(d.subjectPublicKey.data,\"der\"),{type:\"dsa\",data:d.algorithm.params};default:throw new Error(\"unknown key id \"+c)}throw new Error(\"unknown key type \"+u);case\"ENCRYPTED PRIVATE KEY\":n=s(n=r.EncryptedPrivateKey.decode(n,\"der\"),i);case\"PRIVATE KEY\":switch(c=(d=r.PrivateKey.decode(n,\"der\")).algorithm.algorithm.join(\".\")){case\"1.2.840.113549.1.1.1\":return r.RSAPrivateKey.decode(d.subjectPrivateKey,\"der\");case\"1.2.840.10045.2.1\":return{curve:d.algorithm.curve,privateKey:r.ECPrivateKey.decode(d.subjectPrivateKey,\"der\").privateKey};case\"1.2.840.10040.4.1\":return d.algorithm.params.priv_key=r.DSAparam.decode(d.subjectPrivateKey,\"der\"),{type:\"dsa\",params:d.algorithm.params};default:throw new Error(\"unknown key id \"+c)}throw new Error(\"unknown key type \"+u);case\"RSA PUBLIC KEY\":return r.RSAPublicKey.decode(n,\"der\");case\"RSA PRIVATE KEY\":return r.RSAPrivateKey.decode(n,\"der\");case\"DSA PRIVATE KEY\":return{type:\"dsa\",params:r.DSAPrivateKey.decode(n,\"der\")};case\"EC PRIVATE KEY\":return{curve:(n=r.ECPrivateKey.decode(n,\"der\")).parameters.value,privateKey:n.privateKey};default:throw new Error(\"unknown key type \"+u)}}function s(r,t){var d=r.algorithm.decrypt.kde.kdeparams.salt,s=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[r.algorithm.decrypt.cipher.algo.join(\".\")],u=r.algorithm.decrypt.cipher.iv,n=r.subjectPrivateKey,y=parseInt(o.split(\"-\")[1],10)/8,p=c.pbkdf2Sync(t,d,s,y),K=i.createDecipheriv(o,p,u),l=[];return l.push(K.update(n)),l.push(K.final()),e.concat(l)}module.exports=d,d.signature=r.signature;"},"hash":"142905b9fa097bd0efa658dda82b3f28"}