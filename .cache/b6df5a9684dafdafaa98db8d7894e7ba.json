{"dependencies":[{"name":"forwarded","loc":{"line":23,"column":24}},{"name":"ipaddr.js","loc":{"line":24,"column":21}}],"generated":{"js":"\"use strict\";module.exports=l,module.exports.all=o,module.exports.compile=s;var r=require(\"forwarded\"),e=require(\"ipaddr.js\"),n=/^[0-9]+$/,t=e.isValid,i=e.parse,u={linklocal:[\"169.254.0.0/16\",\"fe80::/10\"],loopback:[\"127.0.0.1/8\",\"::1/128\"],uniquelocal:[\"10.0.0.0/8\",\"172.16.0.0/12\",\"192.168.0.0/16\",\"fc00::/7\"]};function o(e,n){var t=r(e);if(!n)return t;\"function\"!=typeof n&&(n=s(n));for(var i=0;i<t.length-1;i++)n(t[i],i)||(t.length=i+1);return t}function s(r){if(!r)throw new TypeError(\"argument is required\");var e;if(\"string\"==typeof r)e=[r];else{if(!Array.isArray(r))throw new TypeError(\"unsupported trust argument\");e=r.slice()}for(var n=0;n<e.length;n++)r=e[n],u.hasOwnProperty(r)&&(r=u[r],e.splice.apply(e,[n,1].concat(r)),n+=r.length-1);return d(a(e))}function a(r){for(var e=new Array(r.length),n=0;n<r.length;n++)e[n]=p(r[n]);return e}function d(r){var e=r.length;return 0===e?v:1===e?h(r[0]):c(r)}function p(r){var e=r.lastIndexOf(\"/\"),u=-1!==e?r.substring(0,e):r;if(!t(u))throw new TypeError(\"invalid IP address: \"+u);var o=i(u);-1===e&&\"ipv6\"===o.kind()&&o.isIPv4MappedAddress()&&(o=o.toIPv4Address());var s=\"ipv6\"===o.kind()?128:32,a=-1!==e?r.substring(e+1,r.length):null;if((a=null===a?s:n.test(a)?parseInt(a,10):\"ipv4\"===o.kind()&&t(a)?f(a):null)<=0||a>s)throw new TypeError(\"invalid range on address: \"+r);return[o,a]}function f(r){var e=i(r);return\"ipv4\"===e.kind()?e.prefixLengthFromSubnetMask():null}function l(r,e){if(!r)throw new TypeError(\"req argument is required\");if(!e)throw new TypeError(\"trust argument is required\");var n=o(r,e);return n[n.length-1]}function v(){return!1}function c(r){return function(e){if(!t(e))return!1;for(var n,u=i(e),o=u.kind(),s=0;s<r.length;s++){var a=r[s],d=a[0],p=d.kind(),f=a[1],l=u;if(o!==p){if(\"ipv4\"===p&&!u.isIPv4MappedAddress())continue;n||(n=\"ipv4\"===p?u.toIPv4Address():u.toIPv4MappedAddress()),l=n}if(l.match(d,f))return!0}return!1}}function h(r){var e=r[0],n=e.kind(),u=\"ipv4\"===n,o=r[1];return function(r){if(!t(r))return!1;var s=i(r);if(s.kind()!==n){if(u&&!s.isIPv4MappedAddress())return!1;s=u?s.toIPv4Address():s.toIPv4MappedAddress()}return s.match(e,o)}}"},"hash":"1a70b6908a2921a76ef73c66e54ef15b"}