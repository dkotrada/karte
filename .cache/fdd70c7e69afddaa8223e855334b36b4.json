{"dependencies":[{"name":"process"}],"generated":{"js":"var process = require(\"process\");\nvar n=require(\"process\");function t(){this._pres={},this._posts={}}function r(n,t,r,e,o,s,l){if(s.useErrorHandlers){var p={error:t};return n.execPost(r,e,o,p,function(n){return\"function\"==typeof l&&l(n)})}return\"function\"==typeof l?l(t):void 0}t.prototype.execPre=function(t,r,e,o){3===arguments.length&&(o=e,e=[]);var s=this._pres[t]||[],l=s.length,p=s.numAsync||0,i=0,u=p,c=!1,f=e;if(!l)return n.nextTick(function(){o(null)});var a=function(){if(!(i>=l)){var t=s[i];if(t.isAsync)t.fn.call(r,function(n){if(n){if(c)return;return c=!0,o(n)}++i,a.apply(r,arguments)},function(n){if(n){if(c)return;return c=!0,o(n)}if(0==--p)return o(null)});else if(t.fn.length>0){for(var e=[function(n){if(n){if(c)return;return c=!0,o(n)}if(++i>=l)return u>0?void 0:o(null);a.apply(r,arguments)}],y=arguments.length>=2?arguments:[null].concat(f),h=1;h<y.length;++h)e.push(y[h]);t.fn.apply(r,e)}else{if(t.fn.call(r),++i>=l)return u>0?void 0:n.nextTick(function(){o(null)});a()}}};a.apply(null,[null].concat(e))},t.prototype.execPreSync=function(n,t){for(var r=this._pres[n]||[],e=r.length,o=0;o<e;++o)r[o].fn.call(t)},t.prototype.execPost=function(t,r,e,o,s){arguments.length<5&&(s=o,o=null);var l=this._posts[t]||[],p=l.length,i=0,u=null;if(o&&o.error&&(u=o.error),!p)return n.nextTick(function(){s.apply(null,[u].concat(e))});var c=function(){for(var n=l[i],t=0,o=e.length,f=[],a=0;a<o;++a)t+=e[a]&&e[a]._kareemIgnore?0:1,e[a]&&e[a]._kareemIgnore||f.push(e[a]);if(u)if(n.length===t+2)n.apply(r,[u].concat(f).concat(function(n){if(n&&(u=n),++i>=p)return s.call(null,u);c()}));else{if(++i>=p)return s.call(null,u);c()}else{if(n.length===t+2)return++i>=p?s.apply(null,[null].concat(e)):c();if(n.length===t+1)n.apply(r,f.concat(function(n){return n?(u=n,c()):++i>=p?s.apply(null,[null].concat(e)):void c()}));else{if(n.apply(r,f),++i>=p)return s.apply(null,[null].concat(e));c()}}};c()},t.prototype.execPostSync=function(n,t){for(var r=this._posts[n]||[],e=r.length,o=0;o<e;++o)r[o].call(t)},t.prototype.wrap=function(n,t,e,o,s){var l,p=o.length>0?o[o.length-1]:null,i=(\"function\"==typeof p&&o.slice(0,o.length-1),this);l=\"object\"==typeof s?s&&s.useLegacyPost:s,s=s||{},this.execPre(n,e,o,function(u){if(u){for(var c=s.numCallbackParams||0,f=[],a=0;a<c;++a)f.push(null);return r(i,u,n,e,f,s,p)}var y=\"function\"==typeof p?o.length-1:o.length;t.apply(e,o.slice(0,y).concat(function(){var t=Array.prototype.slice.call(arguments,1);if(s.nullResultByDefault&&0===t.length&&t.push(null),arguments[0])return r(i,arguments[0],n,e,t,s,p);l&&\"function\"==typeof p&&p.apply(e,arguments),i.execPost(n,e,t,function(){return arguments[0]?\"function\"==typeof p?p(arguments[0]):void 0:\"function\"!=typeof p||l?void 0:p.apply(e,arguments)})}))})},t.prototype.createWrapper=function(n,t,r,e){var o=this;return function(){var s=Array.prototype.slice.call(arguments);o.wrap(n,t,r,s,e)}},t.prototype.pre=function(n,t,r,e){\"boolean\"!=typeof arguments[1]&&(r,r=t,t=!1),this._pres[n]=this._pres[n]||[];var o=this._pres[n];return t&&(o.numAsync=o.numAsync||0,++o.numAsync),o.push({fn:r,isAsync:t}),this},t.prototype.post=function(n,t){return(this._posts[n]=this._posts[n]||[]).push(t),this},t.prototype.clone=function(){var n=new t;for(var r in this._pres)this._pres.hasOwnProperty(r)&&(n._pres[r]=this._pres[r].slice(),n._pres[r].numAsync=this._pres[r].numAsync);for(var r in this._posts)this._posts.hasOwnProperty(r)&&(n._posts[r]=this._posts[r].slice());return n},t.prototype.merge=function(n){var t=this.clone();for(var r in n._pres)n._pres.hasOwnProperty(r)&&(t._pres[r]=(t._pres[r]||[]).concat(n._pres[r].slice()),t._pres[r].numAsync+=n._pres[r].numAsync);for(var r in n._posts)n._posts.hasOwnProperty(r)&&(t._posts[r]=(t._posts[r]||[]).concat(n._posts[r].slice()));return t},module.exports=t;"},"hash":"439f202b31b304708a1c0a4163ce40d4"}