{"dependencies":[{"name":"../topologies/read_preference","loc":{"line":3,"column":29}},{"name":"../error","loc":{"line":4,"column":23}}],"generated":{"js":"\"use strict\"\n\nvar ReadPreference = require('../topologies/read_preference'),\n  MongoError = require('../error');\n\nvar getReadPreference = function(cmd, options) {\n  // Default to command version of the readPreference\n  var readPreference = cmd.readPreference || new ReadPreference('primary');\n  // If we have an option readPreference override the command one\n  if(options.readPreference) {\n    readPreference = options.readPreference;\n  }\n\n  if(typeof readPreference == 'string') {\n    readPreference = new ReadPreference(readPreference);\n  }\n\n  if(!(readPreference instanceof ReadPreference)) {\n    throw new MongoError('readPreference must be a ReadPreference instance');\n  }\n\n  return readPreference;\n}\n\nmodule.exports = {\n  getReadPreference: getReadPreference\n}\n"},"hash":"9fda4052b0f90a1a3347c917ade56bd0"}