{"dependencies":[{"name":"http-errors","loc":{"line":14,"column":26}},{"name":"raw-body","loc":{"line":15,"column":22}},{"name":"iconv-lite","loc":{"line":16,"column":20}},{"name":"on-finished","loc":{"line":17,"column":25}},{"name":"zlib","loc":{"line":18,"column":19}}],"generated":{"js":"\"use strict\";var e=require(\"http-errors\"),t=require(\"raw-body\"),n=require(\"iconv-lite\"),r=require(\"on-finished\"),o=require(\"zlib\");function i(o,i,u,c,p,a){var s,y,l=a;o._body=!0;var g=null!==l.encoding?l.encoding:null,h=l.verify;try{s=(y=d(o,p,l.inflate)).length,y.length=void 0}catch(e){return u(e)}if(l.length=s,l.encoding=h?null:g,null===l.encoding&&null!==g&&!n.encodingExists(g))return u(e(415,'unsupported charset \"'+g.toUpperCase()+'\"',{charset:g.toLowerCase(),type:\"charset.unsupported\"}));p(\"read body\"),t(y,l,function(t,d){var a;if(t)return a=\"encoding.unsupported\"===t.type?e(415,'unsupported charset \"'+g.toUpperCase()+'\"',{charset:g.toLowerCase(),type:\"charset.unsupported\"}):e(400,t),y.resume(),void r(o,function(){u(e(400,a))});if(h)try{p(\"verify body\"),h(o,i,d,g)}catch(t){return void u(e(403,t,{body:d,type:t.type||\"entity.verify.failed\"}))}var s=d;try{p(\"parse body\"),s=\"string\"!=typeof d&&null!==g?n.decode(d,g):d,o.body=c(s)}catch(t){return void u(e(400,t,{body:s,type:t.type||\"entity.parse.failed\"}))}u()})}function d(t,n,r){var i,d=(t.headers[\"content-encoding\"]||\"identity\").toLowerCase(),u=t.headers[\"content-length\"];if(n('content-encoding \"%s\"',d),!1===r&&\"identity\"!==d)throw e(415,\"content encoding unsupported\",{encoding:d,type:\"encoding.unsupported\"});switch(d){case\"deflate\":i=o.createInflate(),n(\"inflate body\"),t.pipe(i);break;case\"gzip\":i=o.createGunzip(),n(\"gunzip body\"),t.pipe(i);break;case\"identity\":(i=t).length=u;break;default:throw e(415,'unsupported content encoding \"'+d+'\"',{encoding:d,type:\"encoding.unsupported\"})}return i}module.exports=i;"},"hash":"923172dac3998a743d31696291bcd3aa"}