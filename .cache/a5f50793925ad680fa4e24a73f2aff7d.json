{"dependencies":[{"name":"fs","loc":{"line":4,"column":17}},{"name":"fs.realpath","loc":{"line":5,"column":17}},{"name":"minimatch","loc":{"line":6,"column":24}},{"name":"./glob.js","loc":{"line":8,"column":19}},{"name":"util","loc":{"line":9,"column":19}},{"name":"path","loc":{"line":10,"column":19}},{"name":"assert","loc":{"line":11,"column":21}},{"name":"path-is-absolute","loc":{"line":12,"column":25}},{"name":"./common.js","loc":{"line":13,"column":21}},{"name":"process"}],"generated":{"js":"var process = require(\"process\");\nvar t=require(\"process\");module.exports=v,v.GlobSync=_;var r=require(\"fs\"),i=require(\"fs.realpath\"),s=require(\"minimatch\"),e=s.Minimatch,a=require(\"./glob.js\").Glob,h=require(\"util\"),c=require(\"path\"),o=require(\"assert\"),n=require(\"path-is-absolute\"),f=require(\"./common.js\"),l=f.alphasort,u=f.alphasorti,p=f.setopts,d=f.ownProp,m=f.childrenIgnored,y=f.isIgnored;function v(t,r){if(\"function\"==typeof r||3===arguments.length)throw new TypeError(\"callback provided to sync glob\\nSee: https://github.com/isaacs/node-glob/issues/167\");return new _(t,r).found}function _(t,r){if(!t)throw new Error(\"must provide pattern\");if(\"function\"==typeof r||3===arguments.length)throw new TypeError(\"callback provided to sync glob\\nSee: https://github.com/isaacs/node-glob/issues/167\");if(!(this instanceof _))return new _(t,r);if(p(this,t,r),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1);this._finish()}_.prototype._finish=function(){if(o(this instanceof _),this.realpath){var t=this;this.matches.forEach(function(r,s){var e=t.matches[s]=Object.create(null);for(var a in r)try{a=t._makeAbs(a),e[i.realpathSync(a,t.realpathCache)]=!0}catch(r){if(\"stat\"!==r.syscall)throw r;e[t._makeAbs(a)]=!0}})}f.finish(this)},_.prototype._process=function(t,r,i){o(this instanceof _);for(var e,a=0;\"string\"==typeof t[a];)a++;switch(a){case t.length:return void this._processSimple(t.join(\"/\"),r);case 0:e=null;break;default:e=t.slice(0,a).join(\"/\")}var h,c=t.slice(a);null===e?h=\".\":n(e)||n(t.join(\"/\"))?(e&&n(e)||(e=\"/\"+e),h=e):h=e;var f=this._makeAbs(h);m(this,h)||(c[0]===s.GLOBSTAR?this._processGlobStar(e,h,f,c,r,i):this._processReaddir(e,h,f,c,r,i))},_.prototype._processReaddir=function(t,r,i,s,e,a){var h=this._readdir(i,a);if(h){for(var o=s[0],n=!!this.minimatch.negate,f=o._glob,l=this.dot||\".\"===f.charAt(0),u=[],p=0;p<h.length;p++){if(\".\"!==(y=h[p]).charAt(0)||l)(n&&!t?!y.match(o):y.match(o))&&u.push(y)}var d=u.length;if(0!==d)if(1!==s.length||this.mark||this.stat){s.shift();for(p=0;p<d;p++){var m;y=u[p];m=t?[t,y]:[y],this._process(m.concat(s),e,a)}}else{this.matches[e]||(this.matches[e]=Object.create(null));for(var p=0;p<d;p++){var y=u[p];t&&(y=\"/\"!==t.slice(-1)?t+\"/\"+y:t+y),\"/\"!==y.charAt(0)||this.nomount||(y=c.join(this.root,y)),this._emitMatch(e,y)}}}},_.prototype._emitMatch=function(t,r){if(!y(this,r)){var i=this._makeAbs(r);if(this.mark&&(r=this._mark(r)),this.absolute&&(r=i),!this.matches[t][r]){if(this.nodir){var s=this.cache[i];if(\"DIR\"===s||Array.isArray(s))return}this.matches[t][r]=!0,this.stat&&this._stat(r)}}},_.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var i,s;try{s=r.lstatSync(t)}catch(t){if(\"ENOENT\"===t.code)return null}var e=s&&s.isSymbolicLink();return this.symlinks[t]=e,e||!s||s.isDirectory()?i=this._readdir(t,!1):this.cache[t]=\"FILE\",i},_.prototype._readdir=function(t,i){if(i&&!d(this.symlinks,t))return this._readdirInGlobStar(t);if(d(this.cache,t)){var s=this.cache[t];if(!s||\"FILE\"===s)return null;if(Array.isArray(s))return s}try{return this._readdirEntries(t,r.readdirSync(t))}catch(r){return this._readdirError(t,r),null}},_.prototype._readdirEntries=function(t,r){if(!this.mark&&!this.stat)for(var i=0;i<r.length;i++){var s=r[i];s=\"/\"===t?t+s:t+\"/\"+s,this.cache[s]=!0}return this.cache[t]=r,r},_.prototype._readdirError=function(t,r){switch(r.code){case\"ENOTSUP\":case\"ENOTDIR\":var i=this._makeAbs(t);if(this.cache[i]=\"FILE\",i===this.cwdAbs){var s=new Error(r.code+\" invalid cwd \"+this.cwd);throw s.path=this.cwd,s.code=r.code,s}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw r;this.silent}},_.prototype._processGlobStar=function(t,r,i,s,e,a){var h=this._readdir(i,a);if(h){var c=s.slice(1),o=t?[t]:[],n=o.concat(c);this._process(n,e,!1);var f=h.length;if(!this.symlinks[i]||!a)for(var l=0;l<f;l++){if(\".\"!==h[l].charAt(0)||this.dot){var u=o.concat(h[l],c);this._process(u,e,!0);var p=o.concat(h[l],s);this._process(p,e,!0)}}}},_.prototype._processSimple=function(r,i){var s=this._stat(r);if(this.matches[i]||(this.matches[i]=Object.create(null)),s){if(r&&n(r)&&!this.nomount){var e=/[\\/\\\\]$/.test(r);\"/\"===r.charAt(0)?r=c.join(this.root,r):(r=c.resolve(this.root,r),e&&(r+=\"/\"))}\"win32\"===t.platform&&(r=r.replace(/\\\\/g,\"/\")),this._emitMatch(i,r)}},_.prototype._stat=function(t){var i=this._makeAbs(t),s=\"/\"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,i)){var e=this.cache[i];if(Array.isArray(e)&&(e=\"DIR\"),!s||\"DIR\"===e)return e;if(s&&\"FILE\"===e)return!1}var a=this.statCache[i];if(!a){var h;try{h=r.lstatSync(i)}catch(t){if(t&&(\"ENOENT\"===t.code||\"ENOTDIR\"===t.code))return this.statCache[i]=!1,!1}if(h&&h.isSymbolicLink())try{a=r.statSync(i)}catch(t){a=h}else a=h}this.statCache[i]=a;e=!0;return a&&(e=a.isDirectory()?\"DIR\":\"FILE\"),this.cache[i]=this.cache[i]||e,(!s||\"FILE\"!==e)&&e},_.prototype._mark=function(t){return f.mark(this,t)},_.prototype._makeAbs=function(t){return f.makeAbs(this,t)};"},"hash":"4f0edcc32634c4f4bce084034dd9aaf2"}