{"dependencies":[{"name":"express","loc":{"line":1,"column":20}},{"name":"cookie-parser","loc":{"line":2,"column":25}},{"name":"cookie-session","loc":{"line":3,"column":26}},{"name":"path","loc":{"line":4,"column":17}},{"name":"body-parser","loc":{"line":5,"column":23}},{"name":"./controller/dbcontroller","loc":{"line":6,"column":25}},{"name":"./controller/personcontroller","loc":{"line":7,"column":29}},{"name":"./controller/routescontroller","loc":{"line":8,"column":29}}],"generated":{"js":"\"use strict\";var e=require(\"express\"),t=v(e),r=require(\"cookie-parser\"),s=v(r),o=require(\"cookie-session\"),u=v(o),l=require(\"path\"),n=v(l),a=require(\"body-parser\"),i=v(a),d=require(\"./controller/dbcontroller\"),p=v(d),f=require(\"./controller/personcontroller\"),c=v(f),g=require(\"./controller/routescontroller\"),m=v(g);function v(e){return e&&e.__esModule?e:{default:e}}const q=(0,t.default)();function b(e,t,r){(\"/admin\"!==e.url||e.session&&e.session.authenticated)&&(\"/persons\"!==e.url||e.session&&e.session.authenticated)?r():t.render(\"pages/notauthorised\",{status:403})}p.default.initdb(),q.set(\"view engine\",\"ejs\"),q.set(\"views\",n.default.resolve(\"./server/views\")),q.use(\"/images\",t.default.static(n.default.resolve(\"./server/public/images\"))),q.use(i.default.urlencoded({extended:!1})),q.use((0,s.default)()),q.use((0,u.default)({secret:\"examplesecret\"})),q.use(b),q.get(\"/persons\",c.default.index),q.delete(\"/persons\",c.default.removeAll),q.get(\"/person/:id\",c.default.remove),q.post(\"/person\",c.default.create),q.post(\"/person/info\",c.default.info),q.post(\"/person/neupin\",c.default.neupin),q.get(\"/persons/:id/card/pin\",c.default.generatepin),q.post(\"/persons/:id/card/pin\",c.default.generatepin),q.get(\"/populatedb\",p.default.populate),q.post(\"/login\",m.default.loginpost),q.get(\"/login\",m.default.loginget),q.get(\"/customer\",m.default.customer),q.get(\"/admin\",m.default.admin),q.get(\"/logout\",m.default.logout),q.get(\"/\",m.default.getroot),q.get(\"*\",m.default.catchAll),q.listen(3113,()=>{});"},"hash":"93a6d97804b97088d3ceaa609357e4e2"}