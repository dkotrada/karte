{"dependencies":[{"name":"../model/person","loc":{"line":1,"column":24}}],"generated":{"js":"\"use strict\";var e=require(\"../model/person\"),n=r(e);function r(e){return e&&e.__esModule?e:{default:e}}module.exports={create:(e,r)=>{const d=Math.floor(999999*Math.random());new n.default({title:e.body.title,name:e.body.name,vorname:e.body.vorname,strasse:e.body.strasse,hausnummer:e.body.hausnummer,stadt:e.body.stadt,postleitzahl:e.body.postleitzahl,telefon:e.body.telefon,email:e.body.email,card:{pin:0,uuid:d}}).save((e,n)=>{e?r.render(\"pages/abortion\"):r.render(\"pages/confirmation\")})},neupin:(e,r)=>{n.default.findOne({email:e.body.email},(n,d)=>{if(n)return r.send(n);d.card.pin=e.body.pin,d.save((e,n)=>{e?r.render(\"pages/abortion\"):r.render(\"pages/confirmpin\")})})},info:(e,r)=>{n.default.findOne({email:e.body.email},(n,d)=>{if(n)return r.send(n);e.body.pin==d.card.pin?r.render(\"pages/personinfo\",{person:d}):r.render(\"pages/abortion\")})},index:(e,r)=>{n.default.find({},(e,n)=>{if(e)return r.send(e);r.render(\"pages/personen\",{persons:n})})},remove:(e,r)=>{const d=e.params.id;n.default.remove({_id:d},e=>{if(e)return r.send(e);r.render(\"pages/confirmdelete\")})},removeAll:(e,r)=>{n.default.remove({},e=>{if(e)return r.send(e);r.send(\"200\")})},generatepin:(e,r)=>{const d=e.params.id,a=Math.floor(9999*Math.random());n.default.findOne({_id:d},(e,n)=>{e?r.send({pin:0}):(n.update({card:{pin:a}}).exec(),r.render(\"pages/confirmpin\"))})}};"},"hash":"eb105179908e083c01e84e47b6bebe19"}