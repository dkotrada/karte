{"dependencies":[{"name":"encodeurl","loc":{"line":16,"column":24}},{"name":"escape-html","loc":{"line":17,"column":25}},{"name":"parseurl","loc":{"line":18,"column":23}},{"name":"path","loc":{"line":19,"column":22}},{"name":"send","loc":{"line":20,"column":19}},{"name":"url","loc":{"line":21,"column":18}},{"name":"buffer"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer,t=require(\"encodeurl\"),r=require(\"escape-html\"),n=require(\"parseurl\"),o=require(\"path\").resolve,a=require(\"send\"),i=require(\"url\");function u(e,t){if(!e)throw new TypeError(\"root path required\");if(\"string\"!=typeof e)throw new TypeError(\"root path must be a string\");var r=Object.create(t||null),i=!1!==r.fallthrough,u=!1!==r.redirect,s=r.setHeaders;if(s&&\"function\"!=typeof s)throw new TypeError(\"option setHeaders must be function\");r.maxage=r.maxage||r.maxAge||0,r.root=o(e);var h=u?f():d();return function(e,t,o){if(\"GET\"!==e.method&&\"HEAD\"!==e.method)return i?o():(t.statusCode=405,t.setHeader(\"Allow\",\"GET, HEAD\"),t.setHeader(\"Content-Length\",\"0\"),void t.end());var u=!i,d=n.original(e),f=n(e).pathname;\"/\"===f&&\"/\"!==d.pathname.substr(-1)&&(f=\"\");var l=a(e,f,r);l.on(\"directory\",h),s&&l.on(\"headers\",s),i&&l.on(\"file\",function(){u=!0}),l.on(\"error\",function(e){!u&&e.statusCode<500?o():o(e)}),l.pipe(t)}}function s(e){for(var t=0;t<e.length&&47===e.charCodeAt(t);t++);return t>1?\"/\"+e.substr(t):e}function h(e,t){return'<!DOCTYPE html>\\n<html lang=\"en\">\\n<head>\\n<meta charset=\"utf-8\">\\n<title>'+e+\"</title>\\n</head>\\n<body>\\n<pre>\"+t+\"</pre>\\n</body>\\n\"}function d(){return function(){this.error(404)}}function f(){return function(o){if(this.hasTrailingSlash())this.error(404);else{var a=n.original(this.req);a.path=null,a.pathname=s(a.pathname+\"/\");var u=t(i.format(a)),d=h(\"Redirecting\",'Redirecting to <a href=\"'+r(u)+'\">'+r(u)+\"</a>\");o.statusCode=301,o.setHeader(\"Content-Type\",\"text/html; charset=UTF-8\"),o.setHeader(\"Content-Length\",e.byteLength(d)),o.setHeader(\"Content-Security-Policy\",\"default-src 'self'\"),o.setHeader(\"X-Content-Type-Options\",\"nosniff\"),o.setHeader(\"Location\",u),o.end(d)}}}module.exports=u,module.exports.mime=a.mime;"},"hash":"c2db2391b61e127bcd92c6236f668a9a"}