{"dependencies":[{"name":"bytes","loc":{"line":15,"column":20}},{"name":"content-type","loc":{"line":16,"column":26}},{"name":"http-errors","loc":{"line":17,"column":26}},{"name":"debug","loc":{"line":18,"column":20}},{"name":"depd","loc":{"line":19,"column":24}},{"name":"../read","loc":{"line":20,"column":19}},{"name":"type-is","loc":{"line":21,"column":21}},{"name":"qs","loc":{"line":225,"column":20}},{"name":"querystring","loc":{"line":228,"column":20}}],"generated":{"js":"\"use strict\";var e=require(\"bytes\"),r=require(\"content-type\"),t=require(\"http-errors\"),i=require(\"debug\")(\"body-parser:urlencoded\"),n=require(\"depd\")(\"body-parser\"),o=require(\"../read\"),a=require(\"type-is\");module.exports=p;var u=Object.create(null);function p(r){var u=r||{};void 0===u.extended&&n(\"undefined extended: provide extended option\");var p=!1!==u.extended,m=!1!==u.inflate,y=\"number\"!=typeof u.limit?e.parse(u.limit||\"100kb\"):u.limit,v=u.type||\"application/x-www-form-urlencoded\",l=u.verify||!1;if(!1!==l&&\"function\"!=typeof l)throw new TypeError(\"option verify must be function\");var b=p?s(u):f(u),h=\"function\"!=typeof v?c(v):v;function q(e){return e.length?b(e):{}}return function(e,r,n){if(e._body)return i(\"body already parsed\"),void n();if(e.body=e.body||{},!a.hasBody(e))return i(\"skip empty body\"),void n();if(i(\"content-type %j\",e.headers[\"content-type\"]),!h(e))return i(\"skip parsing\"),void n();var u=d(e)||\"utf-8\";if(\"utf-8\"!==u)return i(\"invalid charset\"),void n(t(415,'unsupported charset \"'+u.toUpperCase()+'\"',{charset:u,type:\"charset.unsupported\"}));o(e,r,n,q,i,{debug:i,encoding:u,inflate:m,limit:y,verify:l})}}function s(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,n=y(\"qs\");if(isNaN(r)||r<1)throw new TypeError(\"option parameterLimit must be a positive number\");return isFinite(r)&&(r|=0),function(e){var o=m(e,r);if(void 0===o)throw i(\"too many parameters\"),t(413,\"too many parameters\",{type:\"parameters.too.many\"});var a=Math.max(100,o);return i(\"parse extended urlencoding\"),n(e,{allowPrototypes:!0,arrayLimit:a,depth:1/0,parameterLimit:r})}}function d(e){try{return(r.parse(e).parameters.charset||\"\").toLowerCase()}catch(e){return}}function m(e,r){for(var t=0,i=0;-1!==(i=e.indexOf(\"&\",i));)if(i++,++t===r)return;return t}function y(e){var r=u[e];if(void 0!==r)return r.parse;switch(e){case\"qs\":r=require(\"qs\");break;case\"querystring\":r=require(\"querystring\")}return u[e]=r,r.parse}function f(e){var r=void 0!==e.parameterLimit?e.parameterLimit:1e3,n=y(\"querystring\");if(isNaN(r)||r<1)throw new TypeError(\"option parameterLimit must be a positive number\");return isFinite(r)&&(r|=0),function(e){if(void 0===m(e,r))throw i(\"too many parameters\"),t(413,\"too many parameters\",{type:\"parameters.too.many\"});return i(\"parse urlencoding\"),n(e,void 0,void 0,{maxKeys:r})}}function c(e){return function(r){return Boolean(a(r,e))}}"},"hash":"3f8c11c401acaee00a5c510f406759e7"}