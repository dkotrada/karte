{"dependencies":[{"name":"bytes","loc":{"line":15,"column":20}},{"name":"http-errors","loc":{"line":16,"column":26}},{"name":"iconv-lite","loc":{"line":17,"column":20}},{"name":"unpipe","loc":{"line":18,"column":21}},{"name":"process"},{"name":"buffer"}],"generated":{"js":"var global = (1,eval)(\"this\");\nvar process = require(\"process\");\nvar Buffer = require(\"buffer\").Buffer;\nvar e=(0,eval)(\"this\"),t=require(\"process\"),n=require(\"buffer\").Buffer,r=require(\"bytes\"),o=require(\"http-errors\"),i=require(\"iconv-lite\"),u=require(\"unpipe\");module.exports=a;var c=/^Encoding not recognized: /;function l(e){if(!e)return null;try{return i.getDecoder(e)}catch(t){if(!c.test(t.message))throw t;throw o(415,\"specified encoding unsupported\",{encoding:e,type:\"encoding.unsupported\"})}}function a(t,n,o){var i=o,u=n||{};if(!0!==n&&\"string\"!=typeof n||(u={encoding:n}),\"function\"==typeof n&&(i=n,u={}),void 0!==i&&\"function\"!=typeof i)throw new TypeError(\"argument callback must be a function\");if(!i&&!e.Promise)throw new TypeError(\"argument callback is required\");var c=!0!==u.encoding?u.encoding:\"utf-8\",l=r.parse(u.limit),a=null==u.length||isNaN(u.length)?null:parseInt(u.length,10);return i?d(t,c,a,l,i):new Promise(function(e,n){d(t,c,a,l,function(t,r){if(t)return n(t);e(r)})})}function s(e){u(e),\"function\"==typeof e.pause&&e.pause()}function d(e,r,i,u,c){var a=!1,d=!0;if(null!==u&&null!==i&&i>u)return v(o(413,\"request entity too large\",{expected:i,length:i,limit:u,type:\"entity.too.large\"}));var f=e._readableState;if(e._decoder||f&&(f.encoding||f.decoder))return v(o(500,\"stream encoding should not be set\",{type:\"stream.encoding.set\"}));var p,g=0;try{p=l(r)}catch(e){return v(e)}var h=p?\"\":[];function v(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];function o(){b(),n[0]&&s(e),c.apply(null,n)}a=!0,d?t.nextTick(o):o()}function y(){a||v(o(400,\"request aborted\",{code:\"ECONNABORTED\",expected:i,length:i,received:g,type:\"request.aborted\"}))}function m(e){a||(g+=e.length,null!==u&&g>u?v(o(413,\"request entity too large\",{limit:u,received:g,type:\"entity.too.large\"})):p?h+=p.write(e):h.push(e))}function q(e){if(!a){if(e)return v(e);if(null!==i&&g!==i)v(o(400,\"request size did not match content length\",{expected:i,length:i,received:g,type:\"request.size.invalid\"}));else v(null,p?h+(p.end()||\"\"):n.concat(h))}}function b(){h=null,e.removeListener(\"aborted\",y),e.removeListener(\"data\",m),e.removeListener(\"end\",q),e.removeListener(\"error\",q),e.removeListener(\"close\",b)}e.on(\"aborted\",y),e.on(\"close\",b),e.on(\"data\",m),e.on(\"end\",q),e.on(\"error\",q),d=!1}"},"hash":"c3a338712ed6c52f3fc1ea352074f3ba"}